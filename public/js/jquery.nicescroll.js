!function(e){function o(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var t={};o.m=e,o.c=t,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="",o(o.s=51)}({51:function(e,o,t){e.exports=t(52)},52:function(e,o){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var o=!1,r=!1,i=5e3,n=2e3,s=0,l=function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}(),c=["ms","moz","webkit","o"],d=window.requestAnimationFrame||!1,u=window.cancelAnimationFrame||!1;if(!d)for(var h in c){var p=c[h];d||(d=window[p+"RequestAnimationFrame"]),u||(u=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}var m=window.MutationObserver||window.WebKitMutationObserver||!1,f={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:!1,cursordragontouch:!1,oneaxismousemode:"auto"},g=!1,w=function(){if(g)return g;var e=document.createElement("DIV"),o={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};o.isopera="opera"in window,o.isopera12=o.isopera&&"getUserMedia"in navigator,o.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),o.isie="all"in document&&"attachEvent"in e&&!o.isopera,o.isieold=o.isie&&!("msInterpolationMode"in e.style),o.isie7=o.isie&&!o.isieold&&(!("documentMode"in document)||7==document.documentMode),o.isie8=o.isie&&"documentMode"in document&&8==document.documentMode,o.isie9=o.isie&&"performance"in window&&9<=document.documentMode,o.isie10=o.isie&&"performance"in window&&10<=document.documentMode,o.isie9mobile=/iemobile.9/i.test(navigator.userAgent),o.isie9mobile&&(o.isie9=!1),o.isie7mobile=!o.isie9mobile&&o.isie7&&/iemobile/i.test(navigator.userAgent),o.ismozilla="MozAppearance"in e.style,o.iswebkit="WebkitAppearance"in e.style,o.ischrome="chrome"in window,o.ischrome22=o.ischrome&&o.haspointerlock,o.ischrome26=o.ischrome&&"transition"in e.style,o.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,o.hasmstouch=window.navigator.msPointerEnabled||!1,o.ismac=/^mac$/i.test(navigator.platform),o.isios=o.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),o.isios4=o.isios&&!("seal"in Object),o.isandroid=/android/i.test(navigator.userAgent),o.trstyle=!1,o.hastransform=!1,o.hastranslate3d=!1,o.transitionstyle=!1,o.hastransition=!1,o.transitionend=!1;for(var t=["transform","msTransform","webkitTransform","MozTransform","OTransform"],r=0;r<t.length;r++)if(void 0!==e.style[t[r]]){o.trstyle=t[r];break}o.hastransform=0!=o.trstyle,o.hastransform&&(e.style[o.trstyle]="translate3d(1px,2px,3px)",o.hastranslate3d=/translate3d/.test(e.style[o.trstyle])),o.transitionstyle=!1,o.prefixstyle="",o.transitionend=!1;for(var t="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),i=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),n="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),r=0;r<t.length;r++)if(t[r]in e.style){o.transitionstyle=t[r],o.prefixstyle=i[r],o.transitionend=n[r];break}o.ischrome26&&(o.prefixstyle=i[1]),o.hastransition=o.transitionstyle;e:{for(t=["-moz-grab","-webkit-grab","grab"],(o.ischrome&&!o.ischrome22||o.isie)&&(t=[]),r=0;r<t.length;r++)if(i=t[r],e.style.cursor=i,e.style.cursor==i){t=i;break e}t="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}return o.cursorgrabvalue=t,o.hasmousecapture="setCapture"in e,o.hasMutationObserver=!1!==m,g=o},v=function(t,a){function c(){var e=v.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var o=e.css("zIndex");if(!isNaN(o)&&0!=o)return parseInt(o);e=e.parent()}return!1}function h(e,o,t){return o=e.css(o),e=parseFloat(o),isNaN(e)?(e=z[o]||0,t=3==e?t?v.win.outerHeight()-v.win.innerHeight():v.win.outerWidth()-v.win.innerWidth():1,v.isie8&&e&&(e+=1),t?e:0):e}function p(e,o,t,r){v._bind(e,o,function(r){r=r||window.event;var i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==r.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return"mousewheel"==o?(i.deltaY=-.025*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-.025*r.wheelDeltaX)):i.deltaY=r.detail,t.call(e,i)},r)}function g(e,o,t){var r,i;if(0==e.deltaMode?(r=-Math.floor(e.deltaX*(v.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(v.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*v.opt.mousescrollstep),i=-Math.floor(e.deltaY*v.opt.mousescrollstep)),o&&v.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0),r&&(v.scrollmom&&v.scrollmom.stop(),v.lastdeltax+=r,v.debounced("mousewheelx",function(){var e=v.lastdeltax;v.lastdeltax=0,v.rail.drag||v.doScrollLeftBy(e)},120)),i){if(v.opt.nativeparentscrolling&&t&&!v.ispage&&!v.zoomactive)if(0>i){if(v.getScrollTop()>=v.page.maxh)return!0}else if(0>=v.getScrollTop())return!0;v.scrollmom&&v.scrollmom.stop(),v.lastdeltay+=i,v.debounced("mousewheely",function(){var e=v.lastdeltay;v.lastdeltay=0,v.rail.drag||v.doScrollBy(e)},120)}return e.stopImmediatePropagation(),e.preventDefault()}var v=this;if(this.version="3.5.0",this.name="nicescroll",this.me=a,this.opt={doc:e("body"),win:!1},e.extend(this.opt,f),this.opt.snapbackspeed=80,t)for(var y in v.opt)void 0!==t[y]&&(v.opt[y]=t[y]);this.iddoc=(this.doc=v.opt.doc)&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/BODY|HTML/.test(v.opt.win?v.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==v.opt.win,this.win=v.opt.win||(this.ispage?e(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?e(window):this.win,this.body=e("body"),this.iframe=this.isfixed=this.viewport=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=v.opt.autohidemode,this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.checkrtlmode=!1;do{this.id="ascrail"+n++}while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1,this.visibility=!0,this.hidden=this.locked=!1,this.cursoractive=!0,this.overflowx=v.opt.overflowx,this.overflowy=v.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltay=this.lastdeltax=0,this.detected=w();var x=e.extend({},this.detected);if(this.ishwscroll=(this.canhwscroll=x.hastransform&&v.opt.hwacceleration)&&v.haswrapper,this.istouchcapable=!1,x.cantouch&&x.ischrome&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),x.cantouch&&x.ismozilla&&!x.isios&&!x.isandroid&&(this.istouchcapable=!0,x.cantouch=!1),v.opt.enablemouselockapi||(x.hasmousecapture=!1,x.haspointerlock=!1),this.delayed=function(e,o,t,r){var i=v.delaylist[e],n=(new Date).getTime();if(!r&&i&&i.tt)return!1;i&&i.tt&&clearTimeout(i.tt),i&&i.last+t>n&&!i.tt?v.delaylist[e]={last:n+t,tt:setTimeout(function(){v.delaylist[e].tt=0,o.call()},t)}:i&&i.tt||(v.delaylist[e]={last:n,tt:0},setTimeout(function(){o.call()},0))},this.debounced=function(e,o,t){var r=v.delaylist[e];(new Date).getTime(),v.delaylist[e]=o,r||setTimeout(function(){var o=v.delaylist[e];v.delaylist[e]=!1,o.call()},t)},this.synched=function(e,o){return v.synclist[e]=o,function(){v.onsync||(d(function(){v.onsync=!1;for(e in v.synclist){var o=v.synclist[e];o&&o.call(v),v.synclist[e]=!1}}),v.onsync=!0)}(),e},this.unsynched=function(e){v.synclist[e]&&(v.synclist[e]=!1)},this.css=function(e,o){for(var t in o)v.saved.css.push([e,t,e.css(t)]),e.css(t,o[t])},this.scrollTop=function(e){return void 0===e?v.getScrollTop():v.setScrollTop(e)},this.scrollLeft=function(e){return void 0===e?v.getScrollLeft():v.setScrollLeft(e)},BezierClass=function(e,o,t,r,i,n,s){this.st=e,this.ed=o,this.spd=t,this.p1=r||0,this.p2=i||1,this.p3=n||0,this.p4=s||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,o=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*o)},update:function(e,o){return this.st=this.getNow(),this.ed=e,this.spd=o,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},x.hastranslate3d&&x.isios&&this.doc.css("-webkit-backface-visibility","hidden");var S=function(){var e=v.doc.css(x.trstyle);return!(!e||"matrix"!=e.substr(0,6))&&e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)};this.getScrollTop=function(e){if(!e){if(e=S())return 16==e.length?-e[13]:-e[5];if(v.timerscroll&&v.timerscroll.bz)return v.timerscroll.bz.getNow()}return v.doc.translate.y},this.getScrollLeft=function(e){if(!e){if(e=S())return 16==e.length?-e[12]:-e[4];if(v.timerscroll&&v.timerscroll.bh)return v.timerscroll.bh.getNow()}return v.doc.translate.x},this.notifyScrollEvent=document.createEvent?function(e){var o=document.createEvent("UIEvents");o.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(o)}:document.fireEvent?function(e){var o=document.createEventObject();e.fireEvent("onscroll"),o.cancelBubble=!0}:function(e,o){},x.hastranslate3d&&v.opt.enabletranslate3d?(this.setScrollTop=function(e,o){v.doc.translate.y=e,v.doc.translate.ty=-1*e+"px",v.doc.css(x.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),o||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(e,o){v.doc.translate.x=e,v.doc.translate.tx=-1*e+"px",v.doc.css(x.trstyle,"translate3d("+v.doc.translate.tx+","+v.doc.translate.ty+",0px)"),o||v.notifyScrollEvent(v.win[0])}):(this.setScrollTop=function(e,o){v.doc.translate.y=e,v.doc.translate.ty=-1*e+"px",v.doc.css(x.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),o||v.notifyScrollEvent(v.win[0])},this.setScrollLeft=function(e,o){v.doc.translate.x=e,v.doc.translate.tx=-1*e+"px",v.doc.css(x.trstyle,"translate("+v.doc.translate.tx+","+v.doc.translate.ty+")"),o||v.notifyScrollEvent(v.win[0])})}else this.getScrollTop=function(){return v.docscroll.scrollTop()},this.setScrollTop=function(e){return v.docscroll.scrollTop(e)},this.getScrollLeft=function(){return v.docscroll.scrollLeft()},this.setScrollLeft=function(e){return v.docscroll.scrollLeft(e)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,o){if(!e)return!1;for(var t=e.target||e.srcElement||e||!1;t&&t.id!=o;)t=t.parentNode||!1;return!1!==t};var z={thin:1,medium:3,thick:5};this.getOffset=function(){if(v.isfixed)return{top:parseFloat(v.win.css("top")),left:parseFloat(v.win.css("left"))};if(!v.viewport)return v.win.offset();var e=v.win.offset(),o=v.viewport.offset();return{top:e.top-o.top+v.viewport.scrollTop(),left:e.left-o.left+v.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(v.ishwscroll)v.rail.css({height:v.win.innerHeight()}),v.railh&&v.railh.css({width:v.win.innerWidth()});else{var o=v.getOffset(),t=o.top,r=o.left,t=t+h(v.win,"border-top-width",!0);v.win.outerWidth(),v.win.innerWidth();var r=r+(v.rail.align?v.win.outerWidth()-h(v.win,"border-right-width")-v.rail.width:h(v.win,"border-left-width")),i=v.opt.railoffset;i&&(i.top&&(t+=i.top),v.rail.align&&i.left&&(r+=i.left)),v.locked||v.rail.css({top:t,left:r,height:e?e.h:v.win.innerHeight()}),v.zoom&&v.zoom.css({top:t+1,left:1==v.rail.align?r-20:r+v.rail.width+4}),v.railh&&!v.locked&&(t=o.top,r=o.left,e=v.railh.align?t+h(v.win,"border-top-width",!0)+v.win.innerHeight()-v.railh.height:t+h(v.win,"border-top-width",!0),r+=h(v.win,"border-left-width"),v.railh.css({top:e,left:r,width:v.railh.width}))}},this.doRailClick=function(e,o,t){var r;v.locked||(v.cancelEvent(e),o?(o=t?v.doScrollLeft:v.doScrollTop,r=t?(e.pageX-v.railh.offset().left-v.cursorwidth/2)*v.scrollratio.x:(e.pageY-v.rail.offset().top-v.cursorheight/2)*v.scrollratio.y,o(r)):(o=t?v.doScrollLeftBy:v.doScrollBy,r=t?v.scroll.x:v.scroll.y,e=t?e.pageX-v.railh.offset().left:e.pageY-v.rail.offset().top,t=t?v.view.w:v.view.h,o(r>=e?t:-t)))},v.hasanimationframe=d,v.hascancelanimationframe=u,v.hasanimationframe?v.hascancelanimationframe||(u=function(){v.cancelAnimationFrame=!0}):(d=function(e){return setTimeout(e,15-Math.floor(+new Date/1e3)%16)},u=clearInterval),this.init=function(){if(v.saved.css=[],x.isie7mobile||x.isoperamini)return!0;if(x.hasmstouch&&v.css(v.ispage?e("html"):v.win,{"-ms-touch-action":"none"}),v.zindex="auto",v.zindex=v.ispage||"auto"!=v.opt.zindex?v.opt.zindex:c()||"auto",!v.ispage&&"auto"!=v.zindex&&v.zindex>s&&(s=v.zindex),v.isie&&0==v.zindex&&"auto"==v.opt.zindex&&(v.zindex="auto"),!v.ispage||!x.cantouch&&!x.isieold&&!x.isie9mobile){var t=v.docscroll;v.ispage&&(t=v.haswrapper?v.win:v.doc),x.isie9mobile||v.css(t,{"overflow-y":"hidden"}),v.ispage&&x.isie7&&("BODY"==v.doc[0].nodeName?v.css(e("html"),{"overflow-y":"hidden"}):"HTML"==v.doc[0].nodeName&&v.css(e("body"),{"overflow-y":"hidden"})),x.isios&&!v.ispage&&!v.haswrapper&&v.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var n=e(document.createElement("div"));n.css({position:"relative",top:0,float:"right",width:v.opt.cursorwidth,height:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),n.hborder=parseFloat(n.outerHeight()-n.innerHeight()),v.cursor=n;var a=e(document.createElement("div"));a.attr("id",v.id),a.addClass("nicescroll-rails");var d,u,h,p=["left","right"];for(h in p)u=p[h],(d=v.opt.railpadding[u])?a.css("padding-"+u,d+"px"):v.opt.railpadding[u]=0;if(a.append(n),a.width=Math.max(parseFloat(v.opt.cursorwidth),n.outerWidth())+v.opt.railpadding.left+v.opt.railpadding.right,a.css({width:a.width+"px",zIndex:v.zindex,background:v.opt.background,cursor:"default"}),a.visibility=!0,a.scrollable=!0,a.align="left"==v.opt.railalign?0:1,v.rail=a,n=v.rail.drag=!1,v.opt.boxzoom&&!v.ispage&&!x.isieold&&(n=document.createElement("div"),v.bind(n,"click",v.doZoom),v.zoom=e(n),v.zoom.css({cursor:"pointer","z-index":v.zindex,backgroundImage:"url("+l+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),v.opt.dblclickzoom&&v.bind(v.win,"dblclick",v.doZoom),x.cantouch&&v.opt.gesturezoom&&(v.ongesturezoom=function(e){return 1.5<e.scale&&v.doZoomIn(e),.8>e.scale&&v.doZoomOut(e),v.cancelEvent(e)},v.bind(v.win,"gestureend",v.ongesturezoom))),v.railh=!1,v.opt.horizrailenabled){v.css(t,{"overflow-x":"hidden"}),n=e(document.createElement("div")),n.css({position:"relative",top:0,height:v.opt.cursorwidth,width:"0px","background-color":v.opt.cursorcolor,border:v.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":v.opt.cursorborderradius,"-moz-border-radius":v.opt.cursorborderradius,"border-radius":v.opt.cursorborderradius}),n.wborder=parseFloat(n.outerWidth()-n.innerWidth()),v.cursorh=n;var f=e(document.createElement("div"));f.attr("id",v.id+"-hr"),f.addClass("nicescroll-rails"),f.height=Math.max(parseFloat(v.opt.cursorwidth),n.outerHeight()),f.css({height:f.height+"px",zIndex:v.zindex,background:v.opt.background}),f.append(n),f.visibility=!0,f.scrollable=!0,f.align="top"==v.opt.railvalign?0:1,v.railh=f,v.railh.drag=!1}if(v.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),v.body.append(a),v.railh&&(f.css({position:"fixed",left:"0px",width:"100%"}),f.align?f.css({bottom:"0px"}):f.css({top:"0px"}),v.body.append(f))):(v.ishwscroll?("static"==v.win.css("position")&&v.css(v.win,{position:"relative"}),t="HTML"==v.win[0].nodeName?v.body:v.win,v.zoom&&(v.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),t.append(v.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),t.append(a),f&&(f.css({position:"absolute",left:0,bottom:0}),f.align?f.css({bottom:0}):f.css({top:0}),t.append(f))):(v.isfixed="fixed"==v.win.css("position"),t=v.isfixed?"fixed":"absolute",v.isfixed||(v.viewport=v.getViewport(v.win[0])),v.viewport&&(v.body=v.viewport,0==/fixed|relative|absolute/.test(v.viewport.css("position"))&&v.css(v.viewport,{position:"relative"})),a.css({position:t}),v.zoom&&v.zoom.css({position:t}),v.updateScrollBar(),v.body.append(a),v.zoom&&v.body.append(v.zoom),v.railh&&(f.css({position:t}),v.body.append(f))),x.isios&&v.css(v.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),x.isie&&v.opt.disableoutline&&v.win.attr("hideFocus","true"),x.iswebkit&&v.opt.disableoutline&&v.win.css({outline:"none"})),!1===v.opt.autohidemode?(v.autohidedom=!1,v.rail.css({opacity:v.opt.cursoropacitymax}),v.railh&&v.railh.css({opacity:v.opt.cursoropacitymax})):!0===v.opt.autohidemode||"leave"===v.opt.autohidemode?(v.autohidedom=e().add(v.rail),x.isie8&&(v.autohidedom=v.autohidedom.add(v.cursor)),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh)),v.railh&&x.isie8&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"scroll"==v.opt.autohidemode?(v.autohidedom=e().add(v.rail),v.railh&&(v.autohidedom=v.autohidedom.add(v.railh))):"cursor"==v.opt.autohidemode?(v.autohidedom=e().add(v.cursor),v.railh&&(v.autohidedom=v.autohidedom.add(v.cursorh))):"hidden"==v.opt.autohidemode&&(v.autohidedom=!1,v.hide(),v.locked=!1),x.isie9mobile)v.scrollmom=new b(v),v.onmangotouch=function(e){e=v.getScrollTop();var o=v.getScrollLeft();if(e==v.scrollmom.lastscrolly&&o==v.scrollmom.lastscrollx)return!0;var t=e-v.mangotouch.sy,r=o-v.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(t,2)))){var i=0>t?-1:1,n=0>r?-1:1,s=+new Date;v.mangotouch.lazy&&clearTimeout(v.mangotouch.lazy),80<s-v.mangotouch.tm||v.mangotouch.dry!=i||v.mangotouch.drx!=n?(v.scrollmom.stop(),v.scrollmom.reset(o,e),v.mangotouch.sy=e,v.mangotouch.ly=e,v.mangotouch.sx=o,v.mangotouch.lx=o,v.mangotouch.dry=i,v.mangotouch.drx=n,v.mangotouch.tm=s):(v.scrollmom.stop(),v.scrollmom.update(v.mangotouch.sx-r,v.mangotouch.sy-t),v.mangotouch.tm=s,t=Math.max(Math.abs(v.mangotouch.ly-e),Math.abs(v.mangotouch.lx-o)),v.mangotouch.ly=e,v.mangotouch.lx=o,2<t&&(v.mangotouch.lazy=setTimeout(function(){v.mangotouch.lazy=!1,v.mangotouch.dry=0,v.mangotouch.drx=0,v.mangotouch.tm=0,v.scrollmom.doMomentum(30)},100)))}},a=v.getScrollTop(),f=v.getScrollLeft(),v.mangotouch={sy:a,ly:a,dry:0,sx:f,lx:f,drx:0,lazy:!1,tm:0},v.bind(v.docscroll,"scroll",v.onmangotouch);else{if(x.cantouch||v.istouchcapable||v.opt.touchbehavior||x.hasmstouch){v.scrollmom=new b(v),v.ontouchstart=function(o){if(o.pointerType&&2!=o.pointerType)return!1;if(!v.locked){if(x.hasmstouch)for(var t=!!o.target&&o.target;t;){var r=e(t).getNiceScroll();if(0<r.length&&r[0].me==v.me)break;if(0<r.length)return!1;if("DIV"==t.nodeName&&t.id==v.id)break;t=!!t.parentNode&&t.parentNode}if(v.cancelScroll(),(t=v.getTarget(o))&&/INPUT/i.test(t.nodeName)&&/range/i.test(t.type))return v.stopPropagation(o);if(!("clientX"in o)&&"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),v.forcescreen&&(r=o,o={original:o.original?o.original:o},o.clientX=r.screenX,o.clientY=r.screenY),v.rail.drag={x:o.clientX,y:o.clientY,sx:v.scroll.x,sy:v.scroll.y,st:v.getScrollTop(),sl:v.getScrollLeft(),pt:2,dl:!1},v.ispage||!v.opt.directionlockdeadzone)v.rail.drag.dl="f";else{var r=e(window).width(),i=e(window).height(),n=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),i=Math.max(0,s-i),r=Math.max(0,n-r);v.rail.drag.ck=!v.rail.scrollable&&v.railh.scrollable?0<i&&"v":!(!v.rail.scrollable||v.railh.scrollable)&&(0<r&&"h"),v.rail.drag.ck||(v.rail.drag.dl="f")}if(v.opt.touchbehavior&&v.isiframe&&x.isie&&(r=v.win.position(),v.rail.drag.x+=r.left,v.rail.drag.y+=r.top),v.hasmoving=!1,v.lastmouseup=!1,v.scrollmom.reset(o.clientX,o.clientY),!x.cantouch&&!this.istouchcapable&&!x.hasmstouch){if(!t||!/INPUT|SELECT|TEXTAREA/i.test(t.nodeName))return!v.ispage&&x.hasmousecapture&&t.setCapture(),v.opt.touchbehavior?v.cancelEvent(o):v.stopPropagation(o);/SUBMIT|CANCEL|BUTTON/i.test(e(t).attr("type"))&&(pc={tg:t,click:!1},v.preventclick=pc)}}},v.ontouchend=function(e){return(!e.pointerType||2==e.pointerType)&&(v.rail.drag&&2==v.rail.drag.pt&&(v.scrollmom.doMomentum(),v.rail.drag=!1,v.hasmoving&&(v.hasmoving=!1,v.lastmouseup=!0,v.hideCursor(),x.hasmousecapture&&document.releaseCapture(),!x.cantouch))?v.cancelEvent(e):void 0)};var g=v.opt.touchbehavior&&v.isiframe&&!x.hasmousecapture;v.ontouchmove=function(o,t){if(o.pointerType&&2!=o.pointerType)return!1;if(v.rail.drag&&2==v.rail.drag.pt){if(x.cantouch&&void 0===o.original)return!0;if(v.hasmoving=!0,v.preventclick&&!v.preventclick.click&&(v.preventclick.click=v.preventclick.tg.onclick||!1,v.preventclick.tg.onclick=v.onpreventclick),o=e.extend({original:o},o),"changedTouches"in o&&(o.clientX=o.changedTouches[0].clientX,o.clientY=o.changedTouches[0].clientY),v.forcescreen){var r=o;o={original:o.original?o.original:o},o.clientX=r.screenX,o.clientY=r.screenY}if(r=ofy=0,g&&!t){var i=v.win.position(),r=-i.left;ofy=-i.top}var n=o.clientY+ofy,i=n-v.rail.drag.y,s=o.clientX+r,l=s-v.rail.drag.x,a=v.rail.drag.st-i;if(v.ishwscroll&&v.opt.bouncescroll?0>a?a=Math.round(a/2):a>v.page.maxh&&(a=v.page.maxh+Math.round((a-v.page.maxh)/2)):(0>a&&(n=a=0),a>v.page.maxh&&(a=v.page.maxh,n=0)),v.railh&&v.railh.scrollable){var c=v.rail.drag.sl-l;v.ishwscroll&&v.opt.bouncescroll?0>c?c=Math.round(c/2):c>v.page.maxw&&(c=v.page.maxw+Math.round((c-v.page.maxw)/2)):(0>c&&(s=c=0),c>v.page.maxw&&(c=v.page.maxw,s=0))}if(r=!1,v.rail.drag.dl)r=!0,"v"==v.rail.drag.dl?c=v.rail.drag.sl:"h"==v.rail.drag.dl&&(a=v.rail.drag.st);else{var i=Math.abs(i),l=Math.abs(l),d=v.opt.directionlockdeadzone;if("v"==v.rail.drag.ck){if(i>d&&l<=.3*i)return v.rail.drag=!1,!0;l>d&&(v.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==v.rail.drag.ck){if(l>d&&i<=.3*l)return v.rail.drag=!1,!0;i>d&&(v.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}if(v.synched("touchmove",function(){v.rail.drag&&2==v.rail.drag.pt&&(v.prepareTransition&&v.prepareTransition(0),v.rail.scrollable&&v.setScrollTop(a),v.scrollmom.update(s,n),v.railh&&v.railh.scrollable?(v.setScrollLeft(c),v.showCursor(a,c)):v.showCursor(a),x.isie10&&document.selection.clear())}),x.ischrome&&v.istouchcapable&&(r=!1),r)return v.cancelEvent(o)}}}if(v.onmousedown=function(e,o){if(!v.rail.drag||1==v.rail.drag.pt){if(v.locked)return v.cancelEvent(e);v.cancelScroll(),v.rail.drag={x:e.clientX,y:e.clientY,sx:v.scroll.x,sy:v.scroll.y,pt:1,hr:!!o};var t=v.getTarget(e);return!v.ispage&&x.hasmousecapture&&t.setCapture(),v.isiframe&&!x.hasmousecapture&&(v.saved.csspointerevents=v.doc.css("pointer-events"),v.css(v.doc,{"pointer-events":"none"})),v.cancelEvent(e)}},v.onmouseup=function(e){if(v.rail.drag&&(x.hasmousecapture&&document.releaseCapture(),v.isiframe&&!x.hasmousecapture&&v.doc.css("pointer-events",v.saved.csspointerevents),1==v.rail.drag.pt))return v.rail.drag=!1,v.cancelEvent(e)},v.onmousemove=function(e){if(v.rail.drag&&1==v.rail.drag.pt){if(x.ischrome&&0==e.which)return v.onmouseup(e);if(v.cursorfreezed=!0,v.rail.drag.hr){v.scroll.x=v.rail.drag.sx+(e.clientX-v.rail.drag.x),0>v.scroll.x&&(v.scroll.x=0);var o=v.scrollvaluemaxw;v.scroll.x>o&&(v.scroll.x=o)}else v.scroll.y=v.rail.drag.sy+(e.clientY-v.rail.drag.y),0>v.scroll.y&&(v.scroll.y=0),o=v.scrollvaluemax,v.scroll.y>o&&(v.scroll.y=o);return v.synched("mousemove",function(){v.rail.drag&&1==v.rail.drag.pt&&(v.showCursor(),v.rail.drag.hr?v.doScrollLeft(Math.round(v.scroll.x*v.scrollratio.x),v.opt.cursordragspeed):v.doScrollTop(Math.round(v.scroll.y*v.scrollratio.y),v.opt.cursordragspeed))}),v.cancelEvent(e)}},x.cantouch||v.opt.touchbehavior)v.onpreventclick=function(e){if(v.preventclick)return v.preventclick.tg.onclick=v.preventclick.click,v.preventclick=!1,v.cancelEvent(e)},v.bind(v.win,"mousedown",v.ontouchstart),v.onclick=!x.isios&&function(e){return!v.lastmouseup||(v.lastmouseup=!1,v.cancelEvent(e))},v.opt.grabcursorenabled&&x.cursorgrabvalue&&(v.css(v.ispage?v.doc:v.win,{cursor:x.cursorgrabvalue}),v.css(v.rail,{cursor:x.cursorgrabvalue}));else{var w=function e(o){if(v.selectiondrag){if(o){var t=v.win.outerHeight();o=o.pageY-v.selectiondrag.top,0<o&&o<t&&(o=0),o>=t&&(o-=t),v.selectiondrag.df=o}0!=v.selectiondrag.df&&(v.doScrollBy(2*-Math.floor(v.selectiondrag.df/6)),v.debounced("doselectionscroll",function(){e()},50))}};v.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1},v.onselectionstart=function(e){v.ispage||(v.selectiondrag=v.win.offset())},v.onselectionend=function(e){v.selectiondrag=!1},v.onselectiondrag=function(e){v.selectiondrag&&v.hasTextSelected()&&v.debounced("selectionscroll",function(){w(e)},250)}}x.hasmstouch&&(v.css(v.rail,{"-ms-touch-action":"none"}),v.css(v.cursor,{"-ms-touch-action":"none"}),v.bind(v.win,"MSPointerDown",v.ontouchstart),v.bind(document,"MSPointerUp",v.ontouchend),v.bind(document,"MSPointerMove",v.ontouchmove),v.bind(v.cursor,"MSGestureHold",function(e){e.preventDefault()}),v.bind(v.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(v.bind(v.win,"touchstart",v.ontouchstart),v.bind(document,"touchend",v.ontouchend),v.bind(document,"touchcancel",v.ontouchend),v.bind(document,"touchmove",v.ontouchmove)),v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mouseup",v.onmouseup),v.railh&&(v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,!0)}),v.bind(v.cursorh,"mouseup",function(e){if(!v.rail.drag||2!=v.rail.drag.pt)return v.rail.drag=!1,v.hasmoving=!1,v.hideCursor(),x.hasmousecapture&&document.releaseCapture(),v.cancelEvent(e)})),(v.opt.cursordragontouch||!x.cantouch&&!v.opt.touchbehavior)&&(v.rail.css({cursor:"default"}),v.railh&&v.railh.css({cursor:"default"}),v.jqbind(v.rail,"mouseenter",function(){v.canshowonmouseevent&&v.showCursor(),v.rail.active=!0}),v.jqbind(v.rail,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.rail,"click",function(e){v.doRailClick(e,!1,!1)}),v.bind(v.rail,"dblclick",function(e){v.doRailClick(e,!0,!1)}),v.bind(v.cursor,"click",function(e){v.cancelEvent(e)}),v.bind(v.cursor,"dblclick",function(e){v.cancelEvent(e)})),v.railh&&(v.jqbind(v.railh,"mouseenter",function(){v.canshowonmouseevent&&v.showCursor(),v.rail.active=!0}),v.jqbind(v.railh,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}),v.opt.sensitiverail&&(v.bind(v.railh,"click",function(e){v.doRailClick(e,!1,!0)}),v.bind(v.railh,"dblclick",function(e){v.doRailClick(e,!0,!0)}),v.bind(v.cursorh,"click",function(e){v.cancelEvent(e)}),v.bind(v.cursorh,"dblclick",function(e){v.cancelEvent(e)})))),x.cantouch||v.opt.touchbehavior?(v.bind(x.hasmousecapture?v.win:document,"mouseup",v.ontouchend),v.bind(document,"mousemove",v.ontouchmove),v.onclick&&v.bind(document,"click",v.onclick),v.opt.cursordragontouch&&(v.bind(v.cursor,"mousedown",v.onmousedown),v.bind(v.cursor,"mousemove",v.onmousemove),v.cursorh&&v.bind(v.cursorh,"mousedown",function(e){v.onmousedown(e,!0)}),v.cursorh&&v.bind(v.cursorh,"mousemove",v.onmousemove))):(v.bind(x.hasmousecapture?v.win:document,"mouseup",v.onmouseup),v.bind(document,"mousemove",v.onmousemove),v.onclick&&v.bind(document,"click",v.onclick),!v.ispage&&v.opt.enablescrollonselection&&(v.bind(v.win[0],"mousedown",v.onselectionstart),v.bind(document,"mouseup",v.onselectionend),v.bind(v.cursor,"mouseup",v.onselectionend),v.cursorh&&v.bind(v.cursorh,"mouseup",v.onselectionend),v.bind(document,"mousemove",v.onselectiondrag)),v.zoom&&(v.jqbind(v.zoom,"mouseenter",function(){v.canshowonmouseevent&&v.showCursor(),v.rail.active=!0}),v.jqbind(v.zoom,"mouseleave",function(){v.rail.active=!1,v.rail.drag||v.hideCursor()}))),v.opt.enablemousewheel&&(v.isiframe||v.bind(x.isie&&v.ispage?document:v.win,"mousewheel",v.onmousewheel),v.bind(v.rail,"mousewheel",v.onmousewheel),v.railh&&v.bind(v.railh,"mousewheel",v.onmousewheelhr)),!v.ispage&&!x.cantouch&&!/HTML|BODY/.test(v.win[0].nodeName)&&(v.win.attr("tabindex")||v.win.attr({tabindex:i++}),v.jqbind(v.win,"focus",function(e){o=v.getTarget(e).id||!0,v.hasfocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"blur",function(e){o=!1,v.hasfocus=!1}),v.jqbind(v.win,"mouseenter",function(e){r=v.getTarget(e).id||!0,v.hasmousefocus=!0,v.canshowonmouseevent&&v.noticeCursor()}),v.jqbind(v.win,"mouseleave",function(){r=!1,v.hasmousefocus=!1,v.rail.drag||v.hideCursor()}))}if(v.onkeypress=function(e){if(v.locked&&0==v.page.maxh)return!0;e=e||window.e;var t=v.getTarget(e);if(t&&/INPUT|TEXTAREA|SELECT|OPTION/.test(t.nodeName)&&(!t.getAttribute("type")&&!t.type||!/submit|button|cancel/i.tp))return!0;if(v.hasfocus||v.hasmousefocus&&!o||v.ispage&&!o&&!r){if(t=e.keyCode,v.locked&&27!=t)return v.cancelEvent(e);var i=e.ctrlKey||!1,n=e.shiftKey||!1,s=!1;switch(t){case 38:case 63233:v.doScrollBy(72),s=!0;break;case 40:case 63235:v.doScrollBy(-72),s=!0;break;case 37:case 63232:v.railh&&(i?v.doScrollLeft(0):v.doScrollLeftBy(72),s=!0);break;case 39:case 63234:v.railh&&(i?v.doScrollLeft(v.page.maxw):v.doScrollLeftBy(-72),s=!0);break;case 33:case 63276:v.doScrollBy(v.view.h),s=!0;break;case 34:case 63277:v.doScrollBy(-v.view.h),s=!0;break;case 36:case 63273:v.railh&&i?v.doScrollPos(0,0):v.doScrollTo(0),s=!0;break;case 35:case 63275:v.railh&&i?v.doScrollPos(v.page.maxw,v.page.maxh):v.doScrollTo(v.page.maxh),s=!0;break;case 32:v.opt.spacebarenabled&&(n?v.doScrollBy(v.view.h):v.doScrollBy(-v.view.h),s=!0);break;case 27:v.zoomactive&&(v.doZoom(),s=!0)}if(s)return v.cancelEvent(e)}},v.opt.enablekeyboard&&v.bind(document,x.isopera&&!x.isopera12?"keypress":"keydown",v.onkeypress),v.bind(window,"resize",v.lazyResize),v.bind(window,"orientationchange",v.lazyResize),v.bind(window,"load",v.lazyResize),x.ischrome&&!v.ispage&&!v.haswrapper){var y=v.win.attr("style"),a=parseFloat(v.win.css("width"))+1;v.win.css("width",a),v.synched("chromefix",function(){v.win.attr("style",y)})}v.onAttributeChange=function(e){v.lazyResize(250)},!v.ispage&&!v.haswrapper&&(!1!==m?(v.observer=new m(function(e){e.forEach(v.onAttributeChange)}),v.observer.observe(v.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),v.observerremover=new m(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var o in e.removedNodes)if(e.removedNodes[o]==v.win[0])return v.remove()})}),v.observerremover.observe(v.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(v.bind(v.win,x.isie&&!x.isie9?"propertychange":"DOMAttrModified",v.onAttributeChange),x.isie9&&v.win[0].attachEvent("onpropertychange",v.onAttributeChange),v.bind(v.win,"DOMNodeRemoved",function(e){e.target==v.win[0]&&v.remove()}))),!v.ispage&&v.opt.boxzoom&&v.bind(window,"resize",v.resizeZoom),v.istextarea&&v.bind(v.win,"mouseup",v.lazyResize),v.checkrtlmode=!0,v.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var S=function(o){v.iframexd=!1;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(e){v.iframexd=!0,t=!1}if(v.iframexd)return window,!0;v.forcescreen=!0,v.isiframe&&(v.iframe={doc:e(t),html:v.doc.contents().find("html")[0],body:v.doc.contents().find("body")[0]},v.getContentSize=function(){return{w:Math.max(v.iframe.html.scrollWidth,v.iframe.body.scrollWidth),h:Math.max(v.iframe.html.scrollHeight,v.iframe.body.scrollHeight)}},v.docscroll=e(v.iframe.body)),!x.isios&&v.opt.iframeautoresize&&!v.isiframe&&(v.win.scrollTop(0),v.doc.height(""),o=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight),v.doc.height(o)),v.lazyResize(30),x.isie7&&v.css(e(v.iframe.html),{"overflow-y":"hidden"}),v.css(e(v.iframe.body),{"overflow-y":"hidden"}),x.isios&&v.haswrapper&&v.css(e(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?v.bind(this.contentWindow,"scroll",v.onscroll):v.bind(t,"scroll",v.onscroll),v.opt.enablemousewheel&&v.bind(t,"mousewheel",v.onmousewheel),v.opt.enablekeyboard&&v.bind(t,x.isopera?"keypress":"keydown",v.onkeypress),(x.cantouch||v.opt.touchbehavior)&&(v.bind(t,"mousedown",v.ontouchstart),v.bind(t,"mousemove",function(e){v.ontouchmove(e,!0)}),v.opt.grabcursorenabled&&x.cursorgrabvalue&&v.css(e(t.body),{cursor:x.cursorgrabvalue})),v.bind(t,"mouseup",v.ontouchend),v.zoom&&(v.opt.dblclickzoom&&v.bind(t,"dblclick",v.doZoom),v.ongesturezoom&&v.bind(t,"gestureend",v.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){S.call(v.doc[0],!1)},500),v.bind(this.doc,"load",S)}},this.showCursor=function(e,o){v.cursortimeout&&(clearTimeout(v.cursortimeout),v.cursortimeout=0),v.rail&&(v.autohidedom&&(v.autohidedom.stop().css({opacity:v.opt.cursoropacitymax}),v.cursoractive=!0),v.rail.drag&&1==v.rail.drag.pt||(void 0!==e&&!1!==e&&(v.scroll.y=Math.round(1*e/v.scrollratio.y)),void 0!==o&&(v.scroll.x=Math.round(1*o/v.scrollratio.x))),v.cursor.css({height:v.cursorheight,top:v.scroll.y}),v.cursorh&&(!v.rail.align&&v.rail.visibility?v.cursorh.css({width:v.cursorwidth,left:v.scroll.x+v.rail.width}):v.cursorh.css({width:v.cursorwidth,left:v.scroll.x}),v.cursoractive=!0),v.zoom&&v.zoom.stop().css({opacity:v.opt.cursoropacitymax}))},this.hideCursor=function(e){!v.cursortimeout&&v.rail&&v.autohidedom&&!(v.hasmousefocus&&"leave"==v.opt.autohidemode)&&(v.cursortimeout=setTimeout(function(){v.rail.active&&v.showonmouseevent||(v.autohidedom.stop().animate({opacity:v.opt.cursoropacitymin}),v.zoom&&v.zoom.stop().animate({opacity:v.opt.cursoropacitymin}),v.cursoractive=!1),v.cursortimeout=0},e||v.opt.hidecursordelay))},this.noticeCursor=function(e,o,t){v.showCursor(o,t),v.rail.active||v.hideCursor(e)},this.getContentSize=v.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:v.haswrapper?function(){return{w:v.doc.outerWidth()+parseInt(v.win.css("paddingLeft"))+parseInt(v.win.css("paddingRight")),h:v.doc.outerHeight()+parseInt(v.win.css("paddingTop"))+parseInt(v.win.css("paddingBottom"))}}:function(){return{w:v.docscroll[0].scrollWidth,h:v.docscroll[0].scrollHeight}},this.onResize=function(e,o){if(!v.win)return!1;if(!v.haswrapper&&!v.ispage){if("none"==v.win.css("display"))return v.visibility&&v.hideRail().hideRailHr(),!1;!v.hidden&&!v.visibility&&v.showRail().showRailHr()}var t=v.page.maxh,r=v.page.maxw,i=v.view.w;if(v.view={w:v.ispage?v.win.width():parseInt(v.win[0].clientWidth),h:v.ispage?v.win.height():parseInt(v.win[0].clientHeight)},v.page=o||v.getContentSize(),v.page.maxh=Math.max(0,v.page.h-v.view.h),v.page.maxw=Math.max(0,v.page.w-v.view.w),v.page.maxh==t&&v.page.maxw==r&&v.view.w==i){if(v.ispage)return v;if(t=v.win.offset(),v.lastposition&&(r=v.lastposition,r.top==t.top&&r.left==t.left))return v;v.lastposition=t}return 0==v.page.maxh?(v.hideRail(),v.scrollvaluemax=0,v.scroll.y=0,v.scrollratio.y=0,v.cursorheight=0,v.setScrollTop(0),v.rail.scrollable=!1):v.rail.scrollable=!0,0==v.page.maxw?(v.hideRailHr(),v.scrollvaluemaxw=0,v.scroll.x=0,v.scrollratio.x=0,v.cursorwidth=0,v.setScrollLeft(0),v.railh.scrollable=!1):v.railh.scrollable=!0,v.locked=0==v.page.maxh&&0==v.page.maxw,v.locked?(v.ispage||v.updateScrollBar(v.view),!1):(v.hidden||v.visibility?!v.hidden&&!v.railh.visibility&&v.showRailHr():v.showRail().showRailHr(),v.istextarea&&v.win.css("resize")&&"none"!=v.win.css("resize")&&(v.view.h-=20),v.cursorheight=Math.min(v.view.h,Math.round(v.view.h*(v.view.h/v.page.h))),v.cursorheight=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorheight),v.cursorwidth=Math.min(v.view.w,Math.round(v.view.w*(v.view.w/v.page.w))),v.cursorwidth=v.opt.cursorfixedheight?v.opt.cursorfixedheight:Math.max(v.opt.cursorminheight,v.cursorwidth),v.scrollvaluemax=v.view.h-v.cursorheight-v.cursor.hborder,v.railh&&(v.railh.width=0<v.page.maxh?v.view.w-v.rail.width:v.view.w,v.scrollvaluemaxw=v.railh.width-v.cursorwidth-v.cursorh.wborder),v.checkrtlmode&&v.railh&&(v.checkrtlmode=!1,v.opt.rtlmode&&0==v.scroll.x&&v.setScrollLeft(v.page.maxw)),v.ispage||v.updateScrollBar(v.view),v.scrollratio={x:v.page.maxw/v.scrollvaluemaxw,y:v.page.maxh/v.scrollvaluemax},v.getScrollTop()>v.page.maxh?v.doScrollTop(v.page.maxh):(v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x)),v.cursoractive&&v.noticeCursor()),v.scroll.y&&0==v.getScrollTop()&&v.doScrollTo(Math.floor(v.scroll.y*v.scrollratio.y)),v)},this.resize=v.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,v.delayed("resize",v.resize,e),v},this._bind=function(e,o,t,r){v.events.push({e:e,n:o,f:t,b:r,q:!1}),e.addEventListener?e.addEventListener(o,t,r||!1):e.attachEvent?e.attachEvent("on"+o,t):e["on"+o]=t},this.jqbind=function(o,t,r){v.events.push({e:o,n:t,f:r,q:!0}),e(o).bind(t,r)},this.bind=function(e,o,t,r){var i="jquery"in e?e[0]:e;"mousewheel"==o?"onwheel"in v.win?v._bind(i,"wheel",t,r||!1):(e=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",p(i,e,t,r||!1),"DOMMouseScroll"==e&&p(i,"MozMousePixelScroll",t,r||!1)):i.addEventListener?(x.cantouch&&/mouseup|mousedown|mousemove/.test(o)&&v._bind(i,"mousedown"==o?"touchstart":"mouseup"==o?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var o=e.touches.length?e.touches[0]:e;o.original=e,t.call(this,o)}}else e.changedTouches&&(o=e.changedTouches[0],o.original=e,t.call(this,o))},r||!1),v._bind(i,o,t,r||!1),x.cantouch&&"mouseup"==o&&v._bind(i,"touchcancel",t,r||!1)):v._bind(i,o,function(e){return(e=e||window.event||!1)&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),!1!==t.call(i,e)&&!1!==r||v.cancelEvent(e)})},this._unbind=function(e,o,t,r){e.removeEventListener?e.removeEventListener(o,t,r):e.detachEvent?e.detachEvent("on"+o,t):e["on"+o]=!1},this.unbindAll=function(){for(var e=0;e<v.events.length;e++){var o=v.events[e];o.q?o.e.unbind(o.n,o.f):v._unbind(o.e,o.n,o.f,o.b)}},this.cancelEvent=function(e){return!!(e=e.original?e.original:e||(window.event||!1))&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1)},this.stopPropagation=function(e){return!!(e=e.original?e.original:e||(window.event||!1))&&(e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1))},this.showRail=function(){return 0==v.page.maxh||!v.ispage&&"none"==v.win.css("display")||(v.visibility=!0,v.rail.visibility=!0,v.rail.css("display","block")),v},this.showRailHr=function(){return v.railh?(0==v.page.maxw||!v.ispage&&"none"==v.win.css("display")||(v.railh.visibility=!0,v.railh.css("display","block")),v):v},this.hideRail=function(){return v.visibility=!1,v.rail.visibility=!1,v.rail.css("display","none"),v},this.hideRailHr=function(){return v.railh?(v.railh.visibility=!1,v.railh.css("display","none"),v):v},this.show=function(){return v.hidden=!1,v.locked=!1,v.showRail().showRailHr()},this.hide=function(){return v.hidden=!0,v.locked=!0,v.hideRail().hideRailHr()},this.toggle=function(){return v.hidden?v.show():v.hide()},this.remove=function(){v.stop(),v.cursortimeout&&clearTimeout(v.cursortimeout),v.doZoomOut(),v.unbindAll(),x.isie9&&v.win[0].detachEvent("onpropertychange",v.onAttributeChange),!1!==v.observer&&v.observer.disconnect(),!1!==v.observerremover&&v.observerremover.disconnect(),v.events=null,v.cursor&&v.cursor.remove(),v.cursorh&&v.cursorh.remove(),v.rail&&v.rail.remove(),v.railh&&v.railh.remove(),v.zoom&&v.zoom.remove();for(var o=0;o<v.saved.css.length;o++){var t=v.saved.css[o];t[0].css(t[1],void 0===t[2]?"":t[2])}v.saved=!1,v.me.data("__nicescroll","");var r=e.nicescroll;r.each(function(e){if(this&&this.id===v.id){delete r[e];for(var o=++e;o<r.length;o++,e++)r[e]=r[o];r.length--,r.length&&delete r[r.length]}});for(var i in v)v[i]=null,delete v[i];v=null},this.scrollstart=function(e){return this.onscrollstart=e,v},this.scrollend=function(e){return this.onscrollend=e,v},this.scrollcancel=function(e){return this.onscrollcancel=e,v},this.zoomin=function(e){return this.onzoomin=e,v},this.zoomout=function(e){return this.onzoomout=e,v},this.isScrollable=function(o){if(o=o.target?o.target:o,"OPTION"==o.nodeName)return!0;for(;o&&1==o.nodeType&&!/BODY|HTML/.test(o.nodeName);){var t=e(o),t=t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"";if(/scroll|auto/.test(t))return o.clientHeight!=o.scrollHeight;o=!!o.parentNode&&o.parentNode}return!1},this.getViewport=function(o){for(o=!(!o||!o.parentNode)&&o.parentNode;o&&1==o.nodeType&&!/BODY|HTML/.test(o.nodeName);){var t=e(o);if(/fixed|absolute/.test(t.css("position")))return t;if(/scroll|auto/.test(t.css("overflowY")||t.css("overflowX")||t.css("overflow")||"")&&o.clientHeight!=o.scrollHeight||0<t.getNiceScroll().length)return t;o=!!o.parentNode&&o.parentNode}return!1},this.onmousewheel=function(e){if(v.locked)return v.debounced("checkunlock",v.resize,250),!0;if(v.rail.drag)return v.cancelEvent(e);if("auto"==v.opt.oneaxismousemode&&0!=e.deltaX&&(v.opt.oneaxismousemode=!1),v.opt.oneaxismousemode&&0==e.deltaX&&!v.rail.scrollable)return!v.railh||!v.railh.scrollable||v.onmousewheelhr(e);var o=+new Date,t=!1;return v.opt.preservenativescrolling&&v.checkarea+600<o&&(v.nativescrollingarea=v.isScrollable(e),t=!0),v.checkarea=o,!!v.nativescrollingarea||((e=g(e,!1,t))&&(v.checkarea=0),e)},this.onmousewheelhr=function(e){if(v.locked||!v.railh.scrollable)return!0;if(v.rail.drag)return v.cancelEvent(e);var o=+new Date,t=!1;return v.opt.preservenativescrolling&&v.checkarea+600<o&&(v.nativescrollingarea=v.isScrollable(e),t=!0),v.checkarea=o,!!v.nativescrollingarea||(v.locked?v.cancelEvent(e):g(e,!0,t))},this.stop=function(){return v.cancelScroll(),v.scrollmon&&v.scrollmon.stop(),v.cursorfreezed=!1,v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.noticeCursor(),v},this.getTransitionSpeed=function(e){var o=Math.round(10*v.opt.scrollspeed);return e=Math.min(o,Math.round(e/20*v.opt.scrollspeed)),20<e?e:0},v.opt.smoothscroll?v.ishwscroll&&x.hastransition&&v.opt.usetransition?(this.prepareTransition=function(e,o){var t=o?20<e?e:0:v.getTransitionSpeed(e),r=t?x.prefixstyle+"transform "+t+"ms ease-out":"";return v.lasttransitionstyle&&v.lasttransitionstyle==r||(v.lasttransitionstyle=r,v.doc.css(x.transitionstyle,r)),t},this.doScrollLeft=function(e,o){var t=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=v.getScrollTop(),i=v.getScrollLeft();return(0>(v.newscrolly-r)*(o-r)||0>(v.newscrollx-i)*(e-i))&&v.cancelScroll(),0==v.opt.bouncescroll&&(0>o?o=0:o>v.page.maxh&&(o=v.page.maxh),0>e?e=0:e>v.page.maxw&&(e=v.page.maxw)),(!v.scrollrunning||e!=v.newscrollx||o!=v.newscrolly)&&(v.newscrolly=o,v.newscrollx=e,v.newscrollspeed=t||!1,!v.timer&&void(v.timer=setTimeout(function(){var t,r,i=v.getScrollTop(),n=v.getScrollLeft();t=e-n,r=o-i,t=Math.round(Math.sqrt(Math.pow(t,2)+Math.pow(r,2))),t=v.newscrollspeed&&1<v.newscrollspeed?v.newscrollspeed:v.getTransitionSpeed(t),v.newscrollspeed&&1>=v.newscrollspeed&&(t*=v.newscrollspeed),v.prepareTransition(t,!0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),0<t&&(!v.scrollrunning&&v.onscrollstart&&v.onscrollstart.call(v,{type:"scrollstart",current:{x:n,y:i},request:{x:e,y:o},end:{x:v.newscrollx,y:v.newscrolly},speed:t}),x.transitionend?v.scrollendtrapped||(v.scrollendtrapped=!0,v.bind(v.doc,x.transitionend,v.onScrollEnd,!1)):(v.scrollendtrapped&&clearTimeout(v.scrollendtrapped),v.scrollendtrapped=setTimeout(v.onScrollEnd,t)),v.timerscroll={bz:new BezierClass(i,v.newscrolly,t,0,0,.58,1),bh:new BezierClass(n,v.newscrollx,t,0,0,.58,1)},v.cursorfreezed||(v.timerscroll.tm=setInterval(function(){v.showCursor(v.getScrollTop(),v.getScrollLeft())},60))),v.synched("doScroll-set",function(){v.timer=0,v.scrollendtrapped&&(v.scrollrunning=!0),v.setScrollTop(v.newscrolly),v.setScrollLeft(v.newscrollx),v.scrollendtrapped||v.onScrollEnd()})},50)))},this.cancelScroll=function(){if(!v.scrollendtrapped)return!0;var e=v.getScrollTop(),o=v.getScrollLeft();return v.scrollrunning=!1,x.transitionend||clearTimeout(x.transitionend),v.scrollendtrapped=!1,v._unbind(v.doc,x.transitionend,v.onScrollEnd),v.prepareTransition(0),v.setScrollTop(e),v.railh&&v.setScrollLeft(o),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1,v.cursorfreezed=!1,v.showCursor(e,o),v},this.onScrollEnd=function(){v.scrollendtrapped&&v._unbind(v.doc,x.transitionend,v.onScrollEnd),v.scrollendtrapped=!1,v.prepareTransition(0),v.timerscroll&&v.timerscroll.tm&&clearInterval(v.timerscroll.tm),v.timerscroll=!1;var e=v.getScrollTop(),o=v.getScrollLeft();if(v.setScrollTop(e),v.railh&&v.setScrollLeft(o),v.noticeCursor(!1,e,o),v.cursorfreezed=!1,0>e?e=0:e>v.page.maxh&&(e=v.page.maxh),0>o?o=0:o>v.page.maxw&&(o=v.page.maxw),e!=v.newscrolly||o!=v.newscrollx)return v.doScrollPos(o,e,v.opt.snapbackspeed);v.onscrollend&&v.scrollrunning&&v.onscrollend.call(v,{type:"scrollend",current:{x:o,y:e},end:{x:v.newscrollx,y:v.newscrolly}}),v.scrollrunning=!1}):(this.doScrollLeft=function(e,o){var t=v.scrollrunning?v.newscrolly:v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.scrollrunning?v.newscrollx:v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){function r(){if(v.cancelAnimationFrame)return!0;if(v.scrollrunning=!0,c=1-c)return v.timer=d(r)||1;var e=0,o=sy=v.getScrollTop();if(v.dst.ay){var o=v.bzscroll?v.dst.py+v.bzscroll.getNow()*v.dst.ay:v.newscrolly,t=o-sy;(0>t&&o<v.newscrolly||0<t&&o>v.newscrolly)&&(o=v.newscrolly),v.setScrollTop(o),o==v.newscrolly&&(e=1)}else e=1;var i=sx=v.getScrollLeft();v.dst.ax?(i=v.bzscroll?v.dst.px+v.bzscroll.getNow()*v.dst.ax:v.newscrollx,t=i-sx,(0>t&&i<v.newscrollx||0<t&&i>v.newscrollx)&&(i=v.newscrollx),v.setScrollLeft(i),i==v.newscrollx&&(e+=1)):e+=1,2==e?(v.timer=0,v.cursorfreezed=!1,v.bzscroll=!1,v.scrollrunning=!1,0>o?o=0:o>v.page.maxh&&(o=v.page.maxh),0>i?i=0:i>v.page.maxw&&(i=v.page.maxw),i!=v.newscrollx||o!=v.newscrolly?v.doScrollPos(i,o):v.onscrollend&&v.onscrollend.call(v,{type:"scrollend",current:{x:sx,y:sy},end:{x:v.newscrollx,y:v.newscrolly}})):v.timer=d(r)||1}if(o=void 0===o||!1===o?v.getScrollTop(!0):o,v.timer&&v.newscrolly==o&&v.newscrollx==e)return!0;v.timer&&u(v.timer),v.timer=0;var i=v.getScrollTop(),n=v.getScrollLeft();(0>(v.newscrolly-i)*(o-i)||0>(v.newscrollx-n)*(e-n))&&v.cancelScroll(),v.newscrolly=o,v.newscrollx=e,v.bouncescroll&&v.rail.visibility||(0>v.newscrolly?v.newscrolly=0:v.newscrolly>v.page.maxh&&(v.newscrolly=v.page.maxh)),v.bouncescroll&&v.railh.visibility||(0>v.newscrollx?v.newscrollx=0:v.newscrollx>v.page.maxw&&(v.newscrollx=v.page.maxw)),v.dst={},v.dst.x=e-n,v.dst.y=o-i,v.dst.px=n,v.dst.py=i;var s=Math.round(Math.sqrt(Math.pow(v.dst.x,2)+Math.pow(v.dst.y,2)));v.dst.ax=v.dst.x/s,v.dst.ay=v.dst.y/s;var l=0,a=s;if(0==v.dst.x?(l=i,a=o,v.dst.ay=1,v.dst.py=0):0==v.dst.y&&(l=n,a=e,v.dst.ax=1,v.dst.px=0),s=v.getTransitionSpeed(s),t&&1>=t&&(s*=t),v.bzscroll=0<s&&(v.bzscroll?v.bzscroll.update(a,s):new BezierClass(l,a,s,0,1,0,1)),!v.timer){(i==v.page.maxh&&o>=v.page.maxh||n==v.page.maxw&&e>=v.page.maxw)&&v.checkContentSize();var c=1;v.cancelAnimationFrame=!1,v.timer=1,v.onscrollstart&&!v.scrollrunning&&v.onscrollstart.call(v,{type:"scrollstart",current:{x:n,y:i},request:{x:e,y:o},end:{x:v.newscrollx,y:v.newscrolly},speed:s}),r(),(i==v.page.maxh&&o>=i||n==v.page.maxw&&e>=n)&&v.checkContentSize(),v.noticeCursor()}},this.cancelScroll=function(){return v.timer&&u(v.timer),v.timer=0,v.bzscroll=!1,v.scrollrunning=!1,v}):(this.doScrollLeft=function(e,o){var t=v.getScrollTop();v.doScrollPos(e,t,o)},this.doScrollTop=function(e,o){var t=v.getScrollLeft();v.doScrollPos(t,e,o)},this.doScrollPos=function(e,o,t){var r=e>v.page.maxw?v.page.maxw:e;0>r&&(r=0);var i=o>v.page.maxh?v.page.maxh:o;0>i&&(i=0),v.synched("scroll",function(){v.setScrollTop(i),v.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,o){var t=0,t=o?Math.floor((v.scroll.y-e)*v.scrollratio.y):(v.timer?v.newscrolly:v.getScrollTop(!0))-e;if(v.bouncescroll){var r=Math.round(v.view.h/2);t<-r?t=-r:t>v.page.maxh+r&&(t=v.page.maxh+r)}return v.cursorfreezed=!1,py=v.getScrollTop(!0),0>t&&0>=py?v.noticeCursor():t>v.page.maxh&&py>=v.page.maxh?(v.checkContentSize(),v.noticeCursor()):void v.doScrollTop(t)},this.doScrollLeftBy=function(e,o){var t=0,t=o?Math.floor((v.scroll.x-e)*v.scrollratio.x):(v.timer?v.newscrollx:v.getScrollLeft(!0))-e;if(v.bouncescroll){var r=Math.round(v.view.w/2);t<-r?t=-r:t>v.page.maxw+r&&(t=v.page.maxw+r)}if(v.cursorfreezed=!1,px=v.getScrollLeft(!0),0>t&&0>=px||t>v.page.maxw&&px>=v.page.maxw)return v.noticeCursor();v.doScrollLeft(t)},this.doScrollTo=function(e,o){o&&Math.round(e*v.scrollratio.y),v.cursorfreezed=!1,v.doScrollTop(e)},this.checkContentSize=function(){var e=v.getContentSize();(e.h!=v.page.h||e.w!=v.page.w)&&v.resize(!1,e)},v.onscroll=function(e){v.rail.drag||v.cursorfreezed||v.synched("scroll",function(){v.scroll.y=Math.round(v.getScrollTop()*(1/v.scrollratio.y)),v.railh&&(v.scroll.x=Math.round(v.getScrollLeft()*(1/v.scrollratio.x))),v.noticeCursor()})},v.bind(v.docscroll,"scroll",v.onscroll),this.doZoomIn=function(o){if(!v.zoomactive){v.zoomactive=!0,v.zoomrestore={style:{}};var t,r="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=v.win[0].style;for(t in r){var n=r[t];v.zoomrestore.style[n]=void 0!==i[n]?i[n]:""}return v.zoomrestore.style.width=v.win.css("width"),v.zoomrestore.style.height=v.win.css("height"),v.zoomrestore.padding={w:v.win.outerWidth()-v.win.width(),h:v.win.outerHeight()-v.win.height()},x.isios4&&(v.zoomrestore.scrollTop=e(window).scrollTop(),e(window).scrollTop(0)),v.win.css({position:x.isios4?"absolute":"fixed",top:0,left:0,"z-index":s+100,margin:"0px"}),r=v.win.css("backgroundColor"),(""==r||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(r))&&v.win.css("backgroundColor","#fff"),v.rail.css({"z-index":s+101}),v.zoom.css({"z-index":s+102}),v.zoom.css("backgroundPosition","0px -18px"),v.resizeZoom(),v.onzoomin&&v.onzoomin.call(v),v.cancelEvent(o)}},this.doZoomOut=function(o){if(v.zoomactive)return v.zoomactive=!1,v.win.css("margin",""),v.win.css(v.zoomrestore.style),x.isios4&&e(window).scrollTop(v.zoomrestore.scrollTop),v.rail.css({"z-index":v.zindex}),v.zoom.css({"z-index":v.zindex}),v.zoomrestore=!1,v.zoom.css("backgroundPosition","0px 0px"),v.onResize(),v.onzoomout&&v.onzoomout.call(v),v.cancelEvent(o)},this.doZoom=function(e){return v.zoomactive?v.doZoomOut(e):v.doZoomIn(e)},this.resizeZoom=function(){if(v.zoomactive){var o=v.getScrollTop();v.win.css({width:e(window).width()-v.zoomrestore.padding.w+"px",height:e(window).height()-v.zoomrestore.padding.h+"px"}),v.onResize(),v.setScrollTop(Math.min(v.page.maxh,o))}},this.init(),e.nicescroll.push(this)},b=function(e){var o=this;this.nc=e,this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0,this.snapy=this.snapx=!1,this.demuly=this.demulx=0,this.lastscrolly=this.lastscrollx=-1,this.timer=this.chky=this.chkx=0,this.time=function(){return+new Date},this.reset=function(e,t){o.stop();var r=o.time();o.steptime=0,o.lasttime=r,o.speedx=0,o.speedy=0,o.lastx=e,o.lasty=t,o.lastscrollx=-1,o.lastscrolly=-1},this.update=function(e,t){var r=o.time();o.steptime=r-o.lasttime,o.lasttime=r;var r=t-o.lasty,i=e-o.lastx,n=o.nc.getScrollTop(),s=o.nc.getScrollLeft(),n=n+r,s=s+i;o.snapx=0>s||s>o.nc.page.maxw,o.snapy=0>n||n>o.nc.page.maxh,o.speedx=i,o.speedy=r,o.lastx=e,o.lasty=t},this.stop=function(){o.nc.unsynched("domomentum2d"),o.timer&&clearTimeout(o.timer),o.timer=0,o.lastscrollx=-1,o.lastscrolly=-1},this.doSnapy=function(e,t){var r=!1;0>t?(t=0,r=!0):t>o.nc.page.maxh&&(t=o.nc.page.maxh,r=!0),0>e?(e=0,r=!0):e>o.nc.page.maxw&&(e=o.nc.page.maxw,r=!0),r&&o.nc.doScrollPos(e,t,o.nc.opt.snapbackspeed)},this.doMomentum=function(e){var t=o.time(),r=e?t+e:o.lasttime;e=o.nc.getScrollLeft();var i=o.nc.getScrollTop(),n=o.nc.page.maxh,s=o.nc.page.maxw;if(o.speedx=0<s?Math.min(60,o.speedx):0,o.speedy=0<n?Math.min(60,o.speedy):0,r=r&&60>=t-r,(0>i||i>n||0>e||e>s)&&(r=!1),e=!(!o.speedx||!r)&&o.speedx,o.speedy&&r&&o.speedy||e){var l=Math.max(16,o.steptime);50<l&&(e=l/50,o.speedx*=e,o.speedy*=e,l=50),o.demulxy=0,o.lastscrollx=o.nc.getScrollLeft(),o.chkx=o.lastscrollx,o.lastscrolly=o.nc.getScrollTop(),o.chky=o.lastscrolly;var a=o.lastscrollx,c=o.lastscrolly;!function e(){var r=600<o.time()-t?.04:.02;o.speedx&&(a=Math.floor(o.lastscrollx-o.speedx*(1-o.demulxy)),o.lastscrollx=a,0>a||a>s)&&(r=.1),o.speedy&&(c=Math.floor(o.lastscrolly-o.speedy*(1-o.demulxy)),o.lastscrolly=c,0>c||c>n)&&(r=.1),o.demulxy=Math.min(1,o.demulxy+r),o.nc.synched("domomentum2d",function(){o.speedx&&(o.nc.getScrollLeft()!=o.chkx&&o.stop(),o.chkx=a,o.nc.setScrollLeft(a)),o.speedy&&(o.nc.getScrollTop()!=o.chky&&o.stop(),o.chky=c,o.nc.setScrollTop(c)),o.timer||(o.nc.hideCursor(),o.doSnapy(a,c))}),1>o.demulxy?o.timer=setTimeout(e,l):(o.stop(),o.nc.hideCursor(),o.doSnapy(a,c))}()}else o.doSnapy(o.nc.getScrollLeft(),o.nc.getScrollTop())}},y=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(o,t,r){return(t=e.data(o,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollTop():y.call(o)},set:function(o,t){var r=e.data(o,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollTop(parseInt(t)):y.call(o,t),this}},e.fn.scrollTop=function(o){if(void 0===o){var t=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollTop():y.call(this)}return this.each(function(){var t=e.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(o)):y.call(e(this),o)})};var x=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(o,t,r){return(t=e.data(o,"__nicescroll")||!1)&&t.ishwscroll?t.getScrollLeft():x.call(o)},set:function(o,t){var r=e.data(o,"__nicescroll")||!1;return r&&r.ishwscroll?r.setScrollLeft(parseInt(t)):x.call(o,t),this}},e.fn.scrollLeft=function(o){if(void 0===o){var t=!!this[0]&&(e.data(this[0],"__nicescroll")||!1);return t&&t.ishwscroll?t.getScrollLeft():x.call(this)}return this.each(function(){var t=e.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(o)):x.call(e(this),o)})};var S=function(o){var t=this;if(this.length=0,this.name="nicescrollarray",this.each=function(e){for(var o=0,r=0;o<t.length;o++)e.call(t[o],r++);return t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]},o)for(a=0;a<o.length;a++){var r=e.data(o[a],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};!function(e,o,t){for(var r=0;r<o.length;r++)!function(e,o){e[o]=function(){var e=arguments;return this.each(function(){this[o].apply(this,e)})}}(e,o[r])}(S.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" ")),e.fn.getNiceScroll=function(o){return void 0===o?new S(this):this[o]&&e.data(this[o],"__nicescroll")||!1},e.extend(e.expr[":"],{nicescroll:function(o){return!!e.data(o,"__nicescroll")}}),e.fn.niceScroll=function(o,r){void 0===r&&"object"==(void 0===o?"undefined":t(o))&&!("jquery"in o)&&(r=o,o=!1);var i=new S;void 0===r&&(r={}),o&&(r.doc=e(o),r.win=e(this));var n=!("doc"in r);return!n&&!("win"in r)&&(r.win=e(this)),this.each(function(){var o=e(this).data("__nicescroll")||!1;o||(r.doc=n?e(this):r.doc,o=new v(r,e(this)),e(this).data("__nicescroll",o)),i.push(o)}),1==i.length?i[0]:i},window.NiceScroll={getjQuery:function(){return e}},e.nicescroll||(e.nicescroll=new S,e.nicescroll.options=f)}(jQuery)}});